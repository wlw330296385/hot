2017年11月30日
1.  写了camp_member/getCampMemberListNoPageApi这个接口,功能是带搜索,带type条件为>的查询;
2.  翻页获取班级活动接口getEventListOfGradeApi
3.  设计了后台管理的权限表admin_group,菜单表admin_menu,补齐数据和一部分php代码;
4.  配合寻找前端为什么注册验证不通过的原因,修改yzvalidate.js的验证


2017年12月4日
1. 写了event_member三个api:
getEventMemberListOfCampByPageApi :获取一个组织机构下参与的活动人员(唯一)
getEventMemberListByPageApi : 获取活动相关人员(带分页)
getEventMemberListNoPageApi :获取与活动相关的会员(不带page)
2. 配合修改了前端注册那块的bug:yzvalidate.js
3. 后台控制台权限逻辑php


2017年12月5日工作内容:
1.  后台菜单根据权限显示和隐藏;
2.  全局面包屑;
3.  菜单的样式根据当前的操作地址默认展开并且给予'active';

2017年12月6日预定工作内容:
1.  后台创建管理员的时候增加权限绑定;
2.  给一个或N个 banner独立出来,根据训练营定制的方案;
3.  给一个或N个 图文需求方案;
4.  给一个或N个 分析绑定微信方案;


2017年12月6日工作内容
1.  用户绑定微信前后端(这个页面也可以用作更换微信);
2.  增加行政部 客服 和行政专员 两个职位和权限


2017年12月7日工作计划
1 .  整改教案,由原先的训练营发布教案,教案被收入到平台,变成训练营发布教案,也可以将系统教案添加到自己的教案库
2. plan表结构改,各种api和php也改
3. 前台增加添加项目功能(原先只能选择我们平台发布的项目),今天讨论的方案是尝试不使用关系表,直接使用exercise表,因为项目没有把系统项目挪到自己项目库的需求
4.  学生列表根据训练营身份进行隐藏(原先可以看到训练营下的全部学生



2017年12月7日 完成工作
1.  新增发布|编辑项目api:createPlanApi,updatePlanApi和文档;
2.  教练只能看自己相关的学生档案的权限判断;
3.  新增|更改体验课预约成功的模板消息;
4.  重新编写预约体验课程的相关接口和service和model,不再经过bill流程,修改bill流程;


2017年12月8日 预排工作
1.  取消新增和编辑教案的时候,训练项目必须的验证器判断;
2.  学生档案编辑的前端+后台+接口;
3.  添加到我的教案库的功能,和[已添加]的判断;




2017年12月8日 完成工作
1. 验证器取消训练项目必须的判断;
2. 添加到我的教案库方案,是否已添加判断;
3. 训练项目带page的api,树形处理;
4. 删掉原来php直接输出的教案列表;
5. 删掉php编辑教案和新增教案的项目输出显示;
6. camp下index增加关联查询,显示logo;
7. 快速注册新增一个(已有账号,.立即绑定)链接,样式需要调整;
8. 控制台增加一个开发者模式,使用这个模式将会跳过权限判断;
9. 学生资料的编辑 前端+后台



2017年12月11日 完成工作
1. 打乱课程列表api的输出顺序;
2. 后台节点补齐,目前有81条,如果后续增加节点,还需手动补齐;
3. 在exerciseList输出camp_id变量;
4. 新增一个指定机构的index/indexOfCamp,当从其他公众号进入时,会访问这个主页,并且只显示此机构相关内容
    底部菜单也将连接换成这个链接;(目前只应用到camp)
5. 全局存储并输出指定机构的类型和id,有效期2个小时;

2017年12月12日 完成工作:
1. 前端planList和createPlan,php输出项目列表;
2. 参加招募的人员增加头像显示;
3. 活动报名只能报名一次,报名之后显示已报名;
4. 设置'hbcl大热篮球'公众号为'大热篮球俱乐部'的专属训练营,[个人中心]菜单增加[篮球管家],测试成功;

2017年12月13日 完成工作:
1.  前端项目增加验证器,并项目判断名称是否唯一;
2.  解决一些控制台的报错;
3.  控制台班级分类的PHP,前端列表页,修改页,添加页,差交互类的弹窗和js提交动作;


2017年12月14日 完成工作:

1. 取消我的项目默认显示系统项目类型,项目正序排序;
2. 根据学生购买的课程查询课程的所属地区,然后讲地区补到学生表;
3. 将旧系统的训练项目全部导入到新系统;
4. 课程类型列表战士,子项目添加,修改,父项目添加,修改,完成;

2017年12月15日 完成工作:
1. 删除课程分类的时候,如果课程分类被占用,提示不允许删除;
2. lesson表增加课程分类的父类字段gradecate_setion
3. 更新课程分类的时候,同步将课程表相关的课程分类一起更新;
4. 编辑后台管理员的时候,如果是超级管理员,禁止修改身份;禁止创建超级管理员账号;
5. 将项目库的详细描述补充;
6. 修改一些控制台bug,增加办公室主任职位,解决控制台因为缓存问题,导致切换账号,权限菜单没有更新的bug;
7. 控制台增加手动清除缓存功能;


2017年12月18日 完成工作:
1. 处理课程分类数据,按照侯哥处理;
2. 学生档案里订单统计把过期订单去掉;
3. 控制台课程编辑的前后端和权限判断;

2017年12月19日 完成工作:
1. 增加管理员角色;
2. 控制台完善会员列表的搜索功能,可以按照电话号码,名字等查询,也可以模糊查询,优化体验;
3. 控制台课程列表原来页码没有显示,修改判断可以显示;
4. 控制台原本注册会员的时候,如果会员已注册,就无法注册;但是会员没有注册学生,就无法购买课程,所以现在增加给已注册的会员添加学生,并且是多个学生;
5. 课程表课程类型补数据,班级表的课程类型补数据(除了测试数据,因为阿冼不知道测试数据选什么);
6. 控制台由于误操作,多购买了订单;所以在控制台生成订单的表单里加上了token,包括前端的课程和活动的comfirmBill;后台验证器验证token是否重复提交;
7. 优化用户不小心进入了登陆页面,点[微信登陆]没反应的问题;
PS: 没完成的工作:把后台人员误操作的数据还原(多生成了一条订单,有点麻烦);把之前重复的数据还原(这个还没统计好);

2017年12月20日 完成工作:
1. 按照侯哥的意思创建的训练营并且开课往人购买并且赠送课时,让雅鹿统计,走了一遍吧;
软件测试(遇到的问题):
①[创建班级]的所属课程弹出框标题错误,
②[创建班级班]级类型没有跟课程类型对应,应该不可选;
③[创建班级选]择场地的时候,如果没有场地,应该可以快速去创建场地,如今只能退出,白白填了那么多;
④[创建班级]粉丝列表没有出现正确的粉丝;
⑤[场地管理]公开场地没有任何数据
⑥[搜索训练场地列表] 点击已有的场地,无任何反应,比如我想把(阳光文体中心迷你场)添加到自己的场地,点不了;
⑦[新建场地]的地图,点了地图上的地址,没有用,还是需要手动自己在搜索填地址;
⑧[可是录入],提交一直提示'请完善信息',不知道是漏了什么,选择了上课时间才没有提示,但是又提示'请勿勾选学员',问过之后才知道不恩能够勾选上课的学员,非常反人类;
⑨[编辑|创建班级],班级学生把毕业状态的学生也算进来了,应该是少传了一个参数status:1(已解决);

2. 把lesson和grade表的类型换行空格都去掉;
3. 协作处理了场地的编辑和添加到自己的场地库的一些bug;
4. [训练营详情]申请加入训练营成功后在follow加一条数据(如果follow没有数据的话);
5. 前端js地区选择器,在深圳市增加'龙华新区'这个选项;
6. 学生课时页面php和api完成;


2017年12月21日 完成工作:
1. 去掉后端课程教练的验证,班级表学生和教练和教练薪资的验证;
2. 修改一些班级列表显示status不为1的错误;
3. 训练营班级列表的bug修;
4. 新增无page的gradelistapi,解决录课的班级显示不全的问题; 
5. 学生的课时页面暂时完成,但是如果还需要更加详细,需要补schedule_member的数据;


2017年12月22日 完成工作:
1. 完善学生课时列表,传数组也可以获取数据;
2. 新建|编辑班级的时候,给学生列表前后端增加搜索功能;
3. 把income表因为误操作和系统bug产生的多余数据,设置status=0,delete_time为当前时间戳,备注[重复数据];并将对应训练营的营业额减去重复值; 总共10个学生,5310元的重复金额;当前训练营的营业额为196600-5310=191290,学生的课量在lesson_member的rest_scheudle都相应减去多出来的课时;

2017年12月25日 完成工作:
1. 提现api,添加银行卡api;(可以申请提现,但是添加银行卡的前端js没有写)
2. 控制台增加提现申请列表&&提现详情页面等功能;
3. 控制台新增帮用户添加申请提现功能(但是目前数据不全,只能操作2017年12月01号之后的余额,,同意提现申请还没做);
4. 新增查询收入总额按月返回的api;

2017年12月26日 完成工作:
1. 增加银行卡service|model;
2. 获取银行卡列表api;
3. 完善后台新增提现记录部分功能(选择银行卡,提示余额,余额不足不允许申请) ;
4. 控制台同意|拒绝提现操作,拒绝操作则将提现申请金额全额返回用户余额;
(1,2,3,4都已测试通过,上传服务器,雅鹿已阅,并模拟了钟教练1块钱提现,已付款);
5. 手机端添加银行卡,申请提现前端和js和api接口,未测试;

2017年12月27日 完成工作:
1. 手机端添加银行卡|提现申请全部弄好,有余额判断,测试通过(你都不用测试了,预留手机号码格式判断;);
2. lesson_member的三个获取列表接口全都加上rest_schedule的lt检索;
3. 增加毕业学生tab;
4. 活动套餐测试,创建和修改和显示正常,支付未测试;

2017年12月28日 完成工作:
1. 手机端登陆页面:通过hot_id和口令登陆;
2. 活动套餐完成,已上线;
3. [我的]一个bug,粉丝身份点进'课程'会提示你没有创建学生身份,我把课程链接改成了普通的课程列表;
4. [学生课时列表]点返回不应该返回powerCamp,已修改;


2017年12月29日 完成工作:
1. 修复活动的前端输出文字改回了数字;
2. 完善编辑活动的一些小漏洞;
3. 补充schedule_member的表结构:
代码:
------------------------
ALTER TABLE `schedule_member`
ADD COLUMN `lesson_id`  int(11) NOT NULL AFTER `camp`,
ADD COLUMN `lesson`  varchar(60) NOT NULL AFTER `lesson_id`,
ADD COLUMN `grade_id`  int(11) NOT NULL AFTER `lesson`,
ADD COLUMN `grade`  varchar(60) NOT NULL AFTER `grade_id`;
----------------------
4. 创建赠课_学生关系表:
代码:
-----------------------
CREATE TABLE `schedule_gift_student` (
`id`  int(11) UNSIGNED NOT NULL AUTO_INCREMENT ,
`member`  varchar(60) NOT NULL COMMENT '会员id' ,
`member_id`  int(11) NOT NULL COMMENT '会员id' ,
`student`  varchar(60) NOT NULL COMMENT '学生' ,
`student_id`  int(11) NOT NULL COMMENT '学生id' ,
`camp`  varchar(60) NOT NULL COMMENT '训练营' ,
`camp_id`  int(11) NOT NULL COMMENT '训练营id' ,
`lesson_id`  int(11) NOT NULL COMMENT '课程id' ,
`lesson`  varchar(11) NOT NULL COMMENT '课程' ,
`grade_id`  int(11) NOT NULL COMMENT '班级id' ,
`grade`  varchar(60) NOT NULL COMMENT '班级' ,
`gift_schedule`  int(11) NOT NULL COMMENT '被赠送数量' ,
`remarks`  varchar(255) NOT NULL COMMENT '备注' ,
`system_remarks`  text NOT NULL COMMENT '系统备注' ,
`status`  tinyint(4) NOT NULL DEFAULT 0 COMMENT '状态1:成功|0:未操作' ,
`create_time`  int(11) NOT NULL ,
`update_time`  int(11) NOT NULL ,
`delete_time`  int(11) NULL ,
PRIMARY KEY (`id`)
)
;
------------------------
5. 完成赠课-学生关系表
  请执行3,4条,无报错之后,将application/index/controller/index.php  提交到服务器,
  访问 https://域名/index/index/totalSchedule;即可,务必只访问一次;
  
  6. lesson_member增加total_schedule;
  

  执行sql代码:
  -----------------------
  
ALTER TABLE `lesson_member`
MODIFY COLUMN `system_remarks`  varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '系统备注' AFTER `remarks`,
ADD COLUMN `total_schedule`  int(11) NOT NULL AFTER `rest_schedule`;

------------------------

7. 完成课程历史总数total_schedule字段补录,来源:bill,schedule_gift_student;
购买数量+赠课数量;
  务必备份此数据表!!!!!!!!
  [lesson_member]
  
执行第3,4,5,6条数据无错后,
访问 https://域名/index/index/totalLessonSchedule;即可,务必只访问一次;

8. 控制台依阿冼的需求,修改了一个模板消息的发送条件;更改的文件为service下的billService.php,和admin下的lesson.php ;



2018年1月2日 完成工作:
1. [发现不足]  课程无法下架,因为创建了班级;无法删除班级,把班级设置为预排,仍然无法下架课程;
     需要预排班级-删除班级-下架课程;
     
2.  线上数据库更新完毕,订单支付也会在相应lesson_member的total_schedule字段进行更新;
3.  控制台只有超级管理员可以为会员添加提现记录,其他身份则隐藏功能;
4.  手机端增加续费提醒功能,修改 api,service,html,js 4个文件;
5.  修复了老学生total_schedule增加的报错;数据也补上,学生为刘政翰,补15节总课时与1350训练营收入;
6.  修复在训练营主页申请加入提示英文的问题;
7.  在课程详情可以跳转到训练营详情查看;
8.  班级列表,班级预排删除操作,和下架课程的提示优化,增加用户满意度;


2018年1月3日 完成工作:
1.  调整camp_member的粉丝为其他;关注后不再添加camp_member粉丝数据;
2.  加入'其他'也发送模板消息;
3.  我的关注列表,可以取消关注;
4.  修复关注列表-取消关注了但列表仍然显示出来的bug,是因为前端少传了一个参,后端接口也没有接收参数;
5.  录课发现问题:  
      ①录课的时候教练薪资为0,但是添加班级必填,应该给默认值0吧?或者不验证必填;
      ②训练营的课时列表不知道哪个是已审核未审,名字又都一样,就看不懂,而且未审的课时,总课量也增加?
      ③无法设置为已审,提示学生无课时,但是不知道要修改哪个课时
      ④录课全选之后学生总数不对;
      ⑤学生上完课,都已结业,但是还是可以把他们添加进班级;
      ⑥课时也是可以把结业的录进去;


2018年1月4日 完成工作:
1.  修改场地表的status = 0为-1;
2.  原本以为场地环境是另外一个表存的,今天发现跟封面存一起了,所以前端全部输出改为封面图;
3.  发现一个bug,场地图片没有用另一个关系表court_media存,covers长度不足,无法设置默认值,改为text,手动赋予默认图片;
4.  申请加入为学生,导致camp_member有一条'status'为0的数据,购买课程后没有判断这个情况,导致没有身份列表;
5.  编辑场地bug: 无法上传多图,
6.  编辑场地bug: 编辑之后数据提交为空;
7.  编辑场地bug: 温馨提示的内容被替换,数据库并没有设置默认值;
8.  编辑场地bug: 由于少提交了camp_id导致一直提示权限不足的情况(已修复);
9.  补录了id 92-96 的用户的camp_member数据,给阿冼对过了;
10. 新建[物品券]表 item_coupon

2018年1月5日(由于停电和开会原因,工作完成不多) 完成工作:
1.  帮忙查看订单的问题;
2.  帮忙查看退款操作;
3.  生成卡券和使用卡券的php全部完成,前端未做;

2018年1月7日 完成工作:
1.  完成[我的卡券]前端和使用功能;
2.  [卡券详情]前端和使用功能;
3.  控制台[卡券管理]页面;
4.  控制台[发行卡券]页面和功能;

2018年1月8日 完成工作:
1.  [课程详情] 可获得的卡券列表显示;
2.  [活动详情] 可获得的卡券列表显示;
3.  原本毕业学生数据不再做修改,如今再次购买课程,则毕业学生又恢复成正常学生;(已上传服务器)
4.  [课程确认订单],支付完成后,请求赠送卡券api,赠送可获得的卡券,然后弹出"欢迎加入本训练营，您的课程购买已完成，请留意课程消息及公告";
5.  [活动确认订单],支付完成后,请求赠送卡券api,赠送可获得的卡券,然后弹出"您已报名成功，请留意活动消息及公告。";



2018年1月10日 完成工作:
1.  [个人设置]:修改密码一块.前端验证重复密码是否相同,后端验证重复密码是否相同和原密码;还有长度;
2.  [训练营订单]:同意退款操作弹出一个提示框:是否确认同意退款,确认才退款;
3.  [学生档案]:退款中统计在'退款'中,现在'退款'只统计已同意退款的数量;
4.  [训练营发行卡券]:功能ok;
5.  [训练营编辑卡券]:有效期和结束时间如果没有点击,前端就提示没有填;


2018年1月11日 完成工作:
1.  lesson_member总课量重新跑了一遍,忽略数据表手动增加delete_time的数据;得到正确的赠课-学生关系表数据;
2.  [训练营学生列表]唯一学生做了筛选,因为关联查询之后,筛选字段变成了关联表的字段所以唯一无效,修复后检查[班级]操作和[录课]和提醒列表那里没有影响;
3.  取消关注那里做了status的调整,并且确定关注不再在camp_member参数数据;
4.  [教练档案],筛选只有训练营下的班级,不显示别的训练营的班级;
5.  确认了转课程的流程和方案,和数据表雏形;
6.  改良api/scheduler/getScheduleListOfCoachByPageApi,可以搜索时间,like查询教练,输出学生列表(已转成数组);



2018年1月12日 完成工作:
1.  [忘记密码]增加重置密码功能;
2.  转课功能;
3.  卡券列表的时间戳转换为民间时间格式;
4.  卡券优化,发行有效期和使用有效期分开+前端优化;


2018年1月15日 完成工作:
1.  [教练档案] 课时跨营问题;
2.  [转课修改,补功能,和前端搭边],测试了大半天,算是完全可以了!

2018年1月16日 完成工作:
1.  [我的班级myGrade] 去掉被退出班级,优化[班级编辑]的js,去掉delete_time,改为status:2,并且关联班级表输出班级信息;
2.  [转课详情][转课列表] 的前端套数据;
3.  [体验课程]不赠送卡券,[所有活动]赠送卡券;
4.  手机短信重置密码用新模板; 

2018年1月17日  完成工作:
1.  卡券时间不显示时分秒,价值没有小数点;
2.  [订单模板消息]传参错误,已修复;顺便优化了一下订单的一个隐藏bug,就是在订单详情里面,显示了商品的一些信息,但是由于商品被删掉了(物理删除或者delete_time);导致找不到商品信息出现报错页面;
3.  控制台新增统计
      (公众号)
      公众号关注量416
      (平台)
      平台注册量394
      训练营数量20
      教练数量21
      球场数量41
4. 获取训练营相同价格的课程带分页page带搜索       
     
     
2018年1月18日 完成工作:
1.  手机端[快速注册]选择推荐人;
2.  修复[编辑课时]时间戳问题;
3.  控制台添加用户详情页面,添加[添加推荐人]操作;

2018年1月19日 完成工作:
1.  由于卡券由指定课程|活动改为可以指定也可以不指定(全部),所以所有的判断要重构,已弄完;
2.  卡券重新部署上线;
3.  修复一些卡券因为做了修改的代码;

2018年1月20日 完成工作:
1. 卡券添加|编辑,购买课程|活动分发卡券,卡券使用等测试;
2.  卡券上线;

2018年1月22日  完成工作:
1.  找到了控制台生成订单失败的原因;
2.  控制台不过滤毕业学生
3.  控制台购买课程增加一个确定提示:是否确定购买N节课;
4.  卡券编辑后status变成0的bug没有找到原因,数据表没有默认值,php没有重新赋值,html传输的值是对的,模型没有做限制和修改,验证器也没有;
5.  手动修改了 383 许凯瑞      454 余鲁文  的课时数据和订单数据,收入对冲为-1350.00  - 36000 +360;
6.  创建了文章的数据表,model,service,validate;


2018年1月23日  完成工作:
1.  控制台文章发布功能;
2.  文章详情;
3.  对外训练营按上课总量降序列出来;
4.  控制台文章列表;
5.  手机端首页显示4条文章;

2018年1月24日 完成工作:
1.  文章api;
2.  获取相同价格课程api改为一条30组数据;
3.  删掉了有关[大热前海训练营]的相关数据,并且delete_time大热前海训练营;
4.  课程如果已产生订单,则不允许修改课程名称;
5.  搭建新平台代码


2018年1月25日 完成工作:
1.  编辑课程后台增加判断是否有订单,有的话就不改变课程名称;
2.  控制台提现操作[添加提现记录]原本因为1月不出来,改了月份显示;
3.  增加提现记录在月份内大于0的判断;
4.  教雅鹿操作了一下;

2018年1月26日 完成工作:
1.  跟斌哥沟通过后,将提现流程改了一下,增加一个资金冻结状态;
2.  跟雅璐对了一下这个冻结的流程,并且设计了平台资金流水记录表,给雅鹿看了;
3.  弄了未读消息通用Fn,根据斌哥的思想,在相对应的地方调用这个Fn即可在消息出现角标,标明多少条未读;
4.  研究了一下获取经纬度,和进行[离我最近]排序方法,由于数据是取出来了才可以排序,所以这个功能不能分页;
5.  可以获取个人经纬度,并且封装到了wooGDMap.js里面了~调用即可;
6.  经纬度定位算法,计算出阳光文体中心距离阳光小学228米,差不多正确;


2018年1月29日 完成工作:
1.  修复卡券发行量和使用量混淆的bug,修改前端的显示和service一个隐藏bug,废除掉is_max的判断~改用max-publish的值来判断;
2.  由于重新跑了一次所有教练的薪资,所以把除了钟声教练之外,其他教练的提现记录删掉,重新操作;
3.  [提现]流程改变功能,冻结资金上线;
4.  手机端[我的钱包]增加统计冻结金额;
5.  未读消息角标上线;
6.  提现记录新增冻结金额显示;;

2018年1月30日 完成工作:
1.  未读消息触发未读消息;没触发的地方用全局变量;
2.  资金冻结教给雅鹿操作;
3.  未读消息的角标,用本地存储,并且在点击消息的时候触发更新本地存储,没触发的时候底部角标都从存储读取;
4.  转课操作提示成功后跳转到列表,列表404报错解决;
5.  [powercamp] 增加学生总数,未上课时,总课时和未上课时统计;
6.  [powercamp] 学生总数,未上课时,总课时和未上课时统计 改为 购买次数,上课人次,已上课量;
7.  收入和支出的api和文档;
8.  court 分页获取lat,lng最近数据（带分页、有页码）api;


2018年1月31日 完成工作:
1.  淘宝定位乱码问题,JS把返回值转换为对象即可解决,但是淘宝返回的;
2.  控制台新增[平台礼包]系统,权限为管理员和客服人员;
3.  新建[平台礼包表]和[平台礼包-用户关系表];
4.  平台礼包[模型]\[service]\[验证器]\[api];
5.  控制台[礼包列表];
6.  控制台[添加平台礼包]功能;
7.  未处理学生api添加搜索功能;


2018年2月1日 完成工作:
1.  控制台[平台礼包],增加编辑页面和功能;
2.  修改平台礼包表,去掉卡券id和名称;更改流程为:新建平台礼包->新建卡券->选择塞进哪个礼包;
3.  控制台发行卡券增加选择平台礼包选项;
4.  文章增加分类:平台使用指南;
5.  控制台[卡券]增加编辑功能;
6.  控制台[平台礼包]增加编辑功能;
7.  钟声教练的提现记录改成已支付,时间为2017-10/11/12月底;


2018年2月2日 完成工作:
1.  前端卡包对接接口和本地存储和控制器;
2.  礼包api;
3.  增加如果已领取,则返回提示已领取过;
4.  控制台的js和CSS改成本地;


2018年2月5日  完成工作:
1.  原本活动报名一个名额一条数据,改成多个名额一条数据,event_member增加total字段;
2.  控制台礼包和手机端礼包上线,只有大热本部可以使用;控制台的权限分给行政部和办公室;
3.  文章列表和详情上线;
4.  文章api和前端对接;
