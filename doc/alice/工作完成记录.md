2017年11月30日
1.  写了camp_member/getCampMemberListNoPageApi这个接口,功能是带搜索,带type条件为>的查询;
2.  翻页获取班级活动接口getEventListOfGradeApi
3.  设计了后台管理的权限表admin_group,菜单表admin_menu,补齐数据和一部分php代码;
4.  配合寻找前端为什么注册验证不通过的原因,修改yzvalidate.js的验证


2017年12月4日
1. 写了event_member三个api:
getEventMemberListOfCampByPageApi :获取一个组织机构下参与的活动人员(唯一)
getEventMemberListByPageApi : 获取活动相关人员(带分页)
getEventMemberListNoPageApi :获取与活动相关的会员(不带page)
2. 配合修改了前端注册那块的bug:yzvalidate.js
3. 后台控制台权限逻辑php


2017年12月5日工作内容:
1.  后台菜单根据权限显示和隐藏;
2.  全局面包屑;
3.  菜单的样式根据当前的操作地址默认展开并且给予'active';

2017年12月6日预定工作内容:
1.  后台创建管理员的时候增加权限绑定;
2.  给一个或N个 banner独立出来,根据训练营定制的方案;
3.  给一个或N个 图文需求方案;
4.  给一个或N个 分析绑定微信方案;


2017年12月6日工作内容
1.  用户绑定微信前后端(这个页面也可以用作更换微信);
2.  增加行政部 客服 和行政专员 两个职位和权限


2017年12月7日工作计划
1 .  整改教案,由原先的训练营发布教案,教案被收入到平台,变成训练营发布教案,也可以将系统教案添加到自己的教案库
2. plan表结构改,各种api和php也改
3. 前台增加添加项目功能(原先只能选择我们平台发布的项目),今天讨论的方案是尝试不使用关系表,直接使用exercise表,因为项目没有把系统项目挪到自己项目库的需求
4.  学生列表根据训练营身份进行隐藏(原先可以看到训练营下的全部学生



2017年12月7日 完成工作
1.  新增发布|编辑项目api:createPlanApi,updatePlanApi和文档;
2.  教练只能看自己相关的学生档案的权限判断;
3.  新增|更改体验课预约成功的模板消息;
4.  重新编写预约体验课程的相关接口和service和model,不再经过bill流程,修改bill流程;


2017年12月8日 预排工作
1.  取消新增和编辑教案的时候,训练项目必须的验证器判断;
2.  学生档案编辑的前端+后台+接口;
3.  添加到我的教案库的功能,和[已添加]的判断;




2017年12月8日 完成工作
1. 验证器取消训练项目必须的判断;
2. 添加到我的教案库方案,是否已添加判断;
3. 训练项目带page的api,树形处理;
4. 删掉原来php直接输出的教案列表;
5. 删掉php编辑教案和新增教案的项目输出显示;
6. camp下index增加关联查询,显示logo;
7. 快速注册新增一个(已有账号,.立即绑定)链接,样式需要调整;
8. 控制台增加一个开发者模式,使用这个模式将会跳过权限判断;
9. 学生资料的编辑 前端+后台



2017年12月11日 完成工作
1. 打乱课程列表api的输出顺序;
2. 后台节点补齐,目前有81条,如果后续增加节点,还需手动补齐;
3. 在exerciseList输出camp_id变量;
4. 新增一个指定机构的index/indexOfCamp,当从其他公众号进入时,会访问这个主页,并且只显示此机构相关内容
    底部菜单也将连接换成这个链接;(目前只应用到camp)
5. 全局存储并输出指定机构的类型和id,有效期2个小时;

2017年12月12日 完成工作:
1. 前端planList和createPlan,php输出项目列表;
2. 参加招募的人员增加头像显示;
3. 活动报名只能报名一次,报名之后显示已报名;
4. 设置'hbcl大热篮球'公众号为'大热篮球俱乐部'的专属训练营,[个人中心]菜单增加[篮球管家],测试成功;

2017年12月13日 完成工作:
1.  前端项目增加验证器,并项目判断名称是否唯一;
2.  解决一些控制台的报错;
3.  控制台班级分类的PHP,前端列表页,修改页,添加页,差交互类的弹窗和js提交动作;


2017年12月14日 完成工作:

1. 取消我的项目默认显示系统项目类型,项目正序排序;
2. 根据学生购买的课程查询课程的所属地区,然后讲地区补到学生表;
3. 将旧系统的训练项目全部导入到新系统;
4. 课程类型列表战士,子项目添加,修改,父项目添加,修改,完成;

2017年12月15日 完成工作:
1. 删除课程分类的时候,如果课程分类被占用,提示不允许删除;
2. lesson表增加课程分类的父类字段gradecate_setion
3. 更新课程分类的时候,同步将课程表相关的课程分类一起更新;
4. 编辑后台管理员的时候,如果是超级管理员,禁止修改身份;禁止创建超级管理员账号;
5. 将项目库的详细描述补充;
6. 修改一些控制台bug,增加办公室主任职位,解决控制台因为缓存问题,导致切换账号,权限菜单没有更新的bug;
7. 控制台增加手动清除缓存功能;


2017年12月18日 完成工作:
1. 处理课程分类数据,按照侯哥处理;
2. 学生档案里订单统计把过期订单去掉;
3. 控制台课程编辑的前后端和权限判断;

2017年12月19日 完成工作:
1. 增加管理员角色;
2. 控制台完善会员列表的搜索功能,可以按照电话号码,名字等查询,也可以模糊查询,优化体验;
3. 控制台课程列表原来页码没有显示,修改判断可以显示;
4. 控制台原本注册会员的时候,如果会员已注册,就无法注册;但是会员没有注册学生,就无法购买课程,所以现在增加给已注册的会员添加学生,并且是多个学生;
5. 课程表课程类型补数据,班级表的课程类型补数据(除了测试数据,因为阿冼不知道测试数据选什么);
6. 控制台由于误操作,多购买了订单;所以在控制台生成订单的表单里加上了token,包括前端的课程和活动的comfirmBill;后台验证器验证token是否重复提交;
7. 优化用户不小心进入了登陆页面,点[微信登陆]没反应的问题;
PS: 没完成的工作:把后台人员误操作的数据还原(多生成了一条订单,有点麻烦);把之前重复的数据还原(这个还没统计好);

2017年12月20日 完成工作:
1. 按照侯哥的意思创建的训练营并且开课往人购买并且赠送课时,让雅鹿统计,走了一遍吧;
软件测试(遇到的问题):
①[创建班级]的所属课程弹出框标题错误,
②[创建班级班]级类型没有跟课程类型对应,应该不可选;
③[创建班级选]择场地的时候,如果没有场地,应该可以快速去创建场地,如今只能退出,白白填了那么多;
④[创建班级]粉丝列表没有出现正确的粉丝;
⑤[场地管理]公开场地没有任何数据
⑥[搜索训练场地列表] 点击已有的场地,无任何反应,比如我想把(阳光文体中心迷你场)添加到自己的场地,点不了;
⑦[新建场地]的地图,点了地图上的地址,没有用,还是需要手动自己在搜索填地址;
⑧[可是录入],提交一直提示'请完善信息',不知道是漏了什么,选择了上课时间才没有提示,但是又提示'请勿勾选学员',问过之后才知道不恩能够勾选上课的学员,非常反人类;
⑨[编辑|创建班级],班级学生把毕业状态的学生也算进来了,应该是少传了一个参数status:1(已解决);

2. 把lesson和grade表的类型换行空格都去掉;
3. 协作处理了场地的编辑和添加到自己的场地库的一些bug;
4. [训练营详情]申请加入训练营成功后在follow加一条数据(如果follow没有数据的话);
5. 前端js地区选择器,在深圳市增加'龙华新区'这个选项;
6. 学生课时页面php和api完成;


2017年12月21日 完成工作:
1. 去掉后端课程教练的验证,班级表学生和教练和教练薪资的验证;
2. 修改一些班级列表显示status不为1的错误;
3. 训练营班级列表的bug修;
4. 新增无page的gradelistapi,解决录课的班级显示不全的问题; 
5. 学生的课时页面暂时完成,但是如果还需要更加详细,需要补schedule_member的数据;


2017年12月22日 完成工作:
1. 完善学生课时列表,传数组也可以获取数据;
2. 新建|编辑班级的时候,给学生列表前后端增加搜索功能;
3. 把income表因为误操作和系统bug产生的多余数据,设置status=0,delete_time为当前时间戳,备注[重复数据];并将对应训练营的营业额减去重复值; 总共10个学生,5310元的重复金额;当前训练营的营业额为196600-5310=191290,学生的课量在lesson_member的rest_scheudle都相应减去多出来的课时;

2017年12月25日 完成工作:
1. 提现api,添加银行卡api;(可以申请提现,但是添加银行卡的前端js没有写)
2. 控制台增加提现申请列表&&提现详情页面等功能;
3. 控制台新增帮用户添加申请提现功能(但是目前数据不全,只能操作2017年12月01号之后的余额,,同意提现申请还没做);
4. 新增查询收入总额按月返回的api;

2017年12月26日 完成工作:
1. 增加银行卡service|model;
2. 获取银行卡列表api;
3. 完善后台新增提现记录部分功能(选择银行卡,提示余额,余额不足不允许申请) ;
4. 控制台同意|拒绝提现操作,拒绝操作则将提现申请金额全额返回用户余额;
(1,2,3,4都已测试通过,上传服务器,雅鹿已阅,并模拟了钟教练1块钱提现,已付款);
5. 手机端添加银行卡,申请提现前端和js和api接口,未测试;

2017年12月27日 完成工作:
1. 手机端添加银行卡|提现申请全部弄好,有余额判断,测试通过(你都不用测试了,预留手机号码格式判断;);
2. lesson_member的三个获取列表接口全都加上rest_schedule的lt检索;
3. 增加毕业学生tab;
4. 活动套餐测试,创建和修改和显示正常,支付未测试;

2017年12月28日 完成工作:
1. 手机端登陆页面:通过hot_id和口令登陆;
2. 活动套餐完成,已上线;
3. [我的]一个bug,粉丝身份点进'课程'会提示你没有创建学生身份,我把课程链接改成了普通的课程列表;
4. [学生课时列表]点返回不应该返回powerCamp,已修改;


2017年12月29日 完成工作:
1. 修复活动的前端输出文字改回了数字;
2. 完善编辑活动的一些小漏洞;
3. 补充schedule_member的表结构:
代码:
------------------------
ALTER TABLE `schedule_member`
ADD COLUMN `lesson_id`  int(11) NOT NULL AFTER `camp`,
ADD COLUMN `lesson`  varchar(60) NOT NULL AFTER `lesson_id`,
ADD COLUMN `grade_id`  int(11) NOT NULL AFTER `lesson`,
ADD COLUMN `grade`  varchar(60) NOT NULL AFTER `grade_id`;
----------------------
4. 创建赠课_学生关系表:
代码:
-----------------------
CREATE TABLE `schedule_gift_student` (
`id`  int(11) UNSIGNED NOT NULL AUTO_INCREMENT ,
`member`  varchar(60) NOT NULL COMMENT '会员id' ,
`member_id`  int(11) NOT NULL COMMENT '会员id' ,
`student`  varchar(60) NOT NULL COMMENT '学生' ,
`student_id`  int(11) NOT NULL COMMENT '学生id' ,
`camp`  varchar(60) NOT NULL COMMENT '训练营' ,
`camp_id`  int(11) NOT NULL COMMENT '训练营id' ,
`lesson_id`  int(11) NOT NULL COMMENT '课程id' ,
`lesson`  varchar(11) NOT NULL COMMENT '课程' ,
`grade_id`  int(11) NOT NULL COMMENT '班级id' ,
`grade`  varchar(60) NOT NULL COMMENT '班级' ,
`gift_schedule`  int(11) NOT NULL COMMENT '被赠送数量' ,
`remarks`  varchar(255) NOT NULL COMMENT '备注' ,
`system_remarks`  text NOT NULL COMMENT '系统备注' ,
`status`  tinyint(4) NOT NULL DEFAULT 0 COMMENT '状态1:成功|0:未操作' ,
`create_time`  int(11) NOT NULL ,
`update_time`  int(11) NOT NULL ,
`delete_time`  int(11) NULL ,
PRIMARY KEY (`id`)
)
;
------------------------
5. 完成赠课-学生关系表
  请执行3,4条,无报错之后,将application/index/controller/index.php  提交到服务器,
  访问 https://域名/index/index/totalSchedule;即可,务必只访问一次;
  
  6. lesson_member增加total_schedule;
  

  执行sql代码:
  -----------------------
  
ALTER TABLE `lesson_member`
MODIFY COLUMN `system_remarks`  varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '系统备注' AFTER `remarks`,
ADD COLUMN `total_schedule`  int(11) NOT NULL AFTER `rest_schedule`;

------------------------

7. 完成课程历史总数total_schedule字段补录,来源:bill,schedule_gift_student;
购买数量+赠课数量;
  务必备份此数据表!!!!!!!!
  [lesson_member]
  
执行第3,4,5,6条数据无错后,
访问 https://域名/index/index/totalLessonSchedule;即可,务必只访问一次;

8. 控制台依阿冼的需求,修改了一个模板消息的发送条件;更改的文件为service下的billService.php,和admin下的lesson.php ;



2018年1月2日 完成工作:
1. [发现不足]  课程无法下架,因为创建了班级;无法删除班级,把班级设置为预排,仍然无法下架课程;
     需要预排班级-删除班级-下架课程;
     
2.  线上数据库更新完毕,订单支付也会在相应lesson_member的total_schedule字段进行更新;
3.  控制台只有超级管理员可以为会员添加提现记录,其他身份则隐藏功能;
4.  手机端增加续费提醒功能,修改 api,service,html,js 4个文件;
5.  修复了老学生total_schedule增加的报错;数据也补上,学生为刘政翰,补15节总课时与1350训练营收入;
6.  修复在训练营主页申请加入提示英文的问题;
7.  在课程详情可以跳转到训练营详情查看;
8.  班级列表,班级预排删除操作,和下架课程的提示优化,增加用户满意度;


2018年1月3日 完成工作:
1.  调整camp_member的粉丝为其他;关注后不再添加camp_member粉丝数据;
2.  加入'其他'也发送模板消息;
3.  我的关注列表,可以取消关注;
4.  修复关注列表-取消关注了但列表仍然显示出来的bug,是因为前端少传了一个参,后端接口也没有接收参数;
5.  录课发现问题:  
      ①录课的时候教练薪资为0,但是添加班级必填,应该给默认值0吧?或者不验证必填;
      ②训练营的课时列表不知道哪个是已审核未审,名字又都一样,就看不懂,而且未审的课时,总课量也增加?
      ③无法设置为已审,提示学生无课时,但是不知道要修改哪个课时
      ④录课全选之后学生总数不对;
      ⑤学生上完课,都已结业,但是还是可以把他们添加进班级;
      ⑥课时也是可以把结业的录进去;


2018年1月4日 完成工作:
1.  修改场地表的status = 0为-1;
2.  原本以为场地环境是另外一个表存的,今天发现跟封面存一起了,所以前端全部输出改为封面图;
3.  发现一个bug,场地图片没有用另一个关系表court_media存,covers长度不足,无法设置默认值,改为text,手动赋予默认图片;
4.  申请加入为学生,导致camp_member有一条'status'为0的数据,购买课程后没有判断这个情况,导致没有身份列表;
5.  编辑场地bug: 无法上传多图,
6.  编辑场地bug: 编辑之后数据提交为空;
7.  编辑场地bug: 温馨提示的内容被替换,数据库并没有设置默认值;
8.  编辑场地bug: 由于少提交了camp_id导致一直提示权限不足的情况(已修复);
9.  补录了id 92-96 的用户的camp_member数据,给阿冼对过了;
10. 新建[物品券]表 item_coupon

2018年1月5日(由于停电和开会原因,工作完成不多) 完成工作:
1.  帮忙查看订单的问题;
2.  帮忙查看退款操作;
3.  生成卡券和使用卡券的php全部完成,前端未做;

2018年1月7日 完成工作:
1.  完成[我的卡券]前端和使用功能;
2.  [卡券详情]前端和使用功能;
3.  控制台[卡券管理]页面;
4.  控制台[发行卡券]页面和功能;

2018年1月8日 完成工作:
1.  [课程详情] 可获得的卡券列表显示;
2.  [活动详情] 可获得的卡券列表显示;
3.  原本毕业学生数据不再做修改,如今再次购买课程,则毕业学生又恢复成正常学生;(已上传服务器)
4.  [课程确认订单],支付完成后,请求赠送卡券api,赠送可获得的卡券,然后弹出"欢迎加入本训练营，您的课程购买已完成，请留意课程消息及公告";
5.  [活动确认订单],支付完成后,请求赠送卡券api,赠送可获得的卡券,然后弹出"您已报名成功，请留意活动消息及公告。";



2018年1月10日 完成工作:
1.  [个人设置]:修改密码一块.前端验证重复密码是否相同,后端验证重复密码是否相同和原密码;还有长度;
2.  [训练营订单]:同意退款操作弹出一个提示框:是否确认同意退款,确认才退款;
3.  [学生档案]:退款中统计在'退款'中,现在'退款'只统计已同意退款的数量;
4.  [训练营发行卡券]:功能ok;
5.  [训练营编辑卡券]:有效期和结束时间如果没有点击,前端就提示没有填;


2018年1月11日 完成工作:
1.  lesson_member总课量重新跑了一遍,忽略数据表手动增加delete_time的数据;得到正确的赠课-学生关系表数据;
2.  [训练营学生列表]唯一学生做了筛选,因为关联查询之后,筛选字段变成了关联表的字段所以唯一无效,修复后检查[班级]操作和[录课]和提醒列表那里没有影响;
3.  取消关注那里做了status的调整,并且确定关注不再在camp_member参数数据;
4.  [教练档案],筛选只有训练营下的班级,不显示别的训练营的班级;
5.  确认了转课程的流程和方案,和数据表雏形;
6.  改良api/scheduler/getScheduleListOfCoachByPageApi,可以搜索时间,like查询教练,输出学生列表(已转成数组);



2018年1月12日 完成工作:
1.  [忘记密码]增加重置密码功能;
2.  转课功能;
3.  卡券列表的时间戳转换为民间时间格式;
4.  卡券优化,发行有效期和使用有效期分开+前端优化;


2018年1月15日 完成工作:
1.  [教练档案] 课时跨营问题;
2.  [转课修改,补功能,和前端搭边],测试了大半天,算是完全可以了!

2018年1月16日 完成工作:
1.  [我的班级myGrade] 去掉被退出班级,优化[班级编辑]的js,去掉delete_time,改为status:2,并且关联班级表输出班级信息;
2.  [转课详情][转课列表] 的前端套数据;
3.  [体验课程]不赠送卡券,[所有活动]赠送卡券;
4.  手机短信重置密码用新模板; 

2018年1月17日  完成工作:
1.  卡券时间不显示时分秒,价值没有小数点;
2.  [订单模板消息]传参错误,已修复;顺便优化了一下订单的一个隐藏bug,就是在订单详情里面,显示了商品的一些信息,但是由于商品被删掉了(物理删除或者delete_time);导致找不到商品信息出现报错页面;
3.  控制台新增统计
      (公众号)
      公众号关注量416
      (平台)
      平台注册量394
      训练营数量20
      教练数量21
      球场数量41
4. 获取训练营相同价格的课程带分页page带搜索       
     
     
2018年1月18日 完成工作:
1.  手机端[快速注册]选择推荐人;
2.  修复[编辑课时]时间戳问题;
3.  控制台添加用户详情页面,添加[添加推荐人]操作;

2018年1月19日 完成工作:
1.  由于卡券由指定课程|活动改为可以指定也可以不指定(全部),所以所有的判断要重构,已弄完;
2.  卡券重新部署上线;
3.  修复一些卡券因为做了修改的代码;

2018年1月20日 完成工作:
1. 卡券添加|编辑,购买课程|活动分发卡券,卡券使用等测试;
2.  卡券上线;

2018年1月22日  完成工作:
1.  找到了控制台生成订单失败的原因;
2.  控制台不过滤毕业学生
3.  控制台购买课程增加一个确定提示:是否确定购买N节课;
4.  卡券编辑后status变成0的bug没有找到原因,数据表没有默认值,php没有重新赋值,html传输的值是对的,模型没有做限制和修改,验证器也没有;
5.  手动修改了 383 许凯瑞      454 余鲁文  的课时数据和订单数据,收入对冲为-1350.00  - 36000 +360;
6.  创建了文章的数据表,model,service,validate;


2018年1月23日  完成工作:
1.  控制台文章发布功能;
2.  文章详情;
3.  对外训练营按上课总量降序列出来;
4.  控制台文章列表;
5.  手机端首页显示4条文章;

2018年1月24日 完成工作:
1.  文章api;
2.  获取相同价格课程api改为一条30组数据;
3.  删掉了有关[大热前海训练营]的相关数据,并且delete_time大热前海训练营;
4.  课程如果已产生订单,则不允许修改课程名称;
5.  搭建新平台代码


2018年1月25日 完成工作:
1.  编辑课程后台增加判断是否有订单,有的话就不改变课程名称;
2.  控制台提现操作[添加提现记录]原本因为1月不出来,改了月份显示;
3.  增加提现记录在月份内大于0的判断;
4.  教雅鹿操作了一下;

2018年1月26日 完成工作:
1.  跟斌哥沟通过后,将提现流程改了一下,增加一个资金冻结状态;
2.  跟雅璐对了一下这个冻结的流程,并且设计了平台资金流水记录表,给雅鹿看了;
3.  弄了未读消息通用Fn,根据斌哥的思想,在相对应的地方调用这个Fn即可在消息出现角标,标明多少条未读;
4.  研究了一下获取经纬度,和进行[离我最近]排序方法,由于数据是取出来了才可以排序,所以这个功能不能分页;
5.  可以获取个人经纬度,并且封装到了wooGDMap.js里面了~调用即可;
6.  经纬度定位算法,计算出阳光文体中心距离阳光小学228米,差不多正确;


2018年1月29日 完成工作:
1.  修复卡券发行量和使用量混淆的bug,修改前端的显示和service一个隐藏bug,废除掉is_max的判断~改用max-publish的值来判断;
2.  由于重新跑了一次所有教练的薪资,所以把除了钟声教练之外,其他教练的提现记录删掉,重新操作;
3.  [提现]流程改变功能,冻结资金上线;
4.  手机端[我的钱包]增加统计冻结金额;
5.  未读消息角标上线;
6.  提现记录新增冻结金额显示;;

2018年1月30日 完成工作:
1.  未读消息触发未读消息;没触发的地方用全局变量;
2.  资金冻结教给雅鹿操作;
3.  未读消息的角标,用本地存储,并且在点击消息的时候触发更新本地存储,没触发的时候底部角标都从存储读取;
4.  转课操作提示成功后跳转到列表,列表404报错解决;
5.  [powercamp] 增加学生总数,未上课时,总课时和未上课时统计;
6.  [powercamp] 学生总数,未上课时,总课时和未上课时统计 改为 购买次数,上课人次,已上课量;
7.  收入和支出的api和文档;
8.  court 分页获取lat,lng最近数据（带分页、有页码）api;


2018年1月31日 完成工作:
1.  淘宝定位乱码问题,JS把返回值转换为对象即可解决,但是淘宝返回的;
2.  控制台新增[平台礼包]系统,权限为管理员和客服人员;
3.  新建[平台礼包表]和[平台礼包-用户关系表];
4.  平台礼包[模型]\[service]\[验证器]\[api];
5.  控制台[礼包列表];
6.  控制台[添加平台礼包]功能;
7.  未处理学生api添加搜索功能;


2018年2月1日 完成工作:
1.  控制台[平台礼包],增加编辑页面和功能;
2.  修改平台礼包表,去掉卡券id和名称;更改流程为:新建平台礼包->新建卡券->选择塞进哪个礼包;
3.  控制台发行卡券增加选择平台礼包选项;
4.  文章增加分类:平台使用指南;
5.  控制台[卡券]增加编辑功能;
6.  控制台[平台礼包]增加编辑功能;
7.  钟声教练的提现记录改成已支付,时间为2017-10/11/12月底;


2018年2月2日 完成工作:
1.  前端卡包对接接口和本地存储和控制器;
2.  礼包api;
3.  增加如果已领取,则返回提示已领取过;
4.  控制台的js和CSS改成本地;


2018年2月5日  完成工作:
1.  原本活动报名一个名额一条数据,改成多个名额一条数据,event_member增加total字段;
2.  控制台礼包和手机端礼包上线,只有大热本部可以使用;控制台的权限分给行政部和办公室;
3.  文章列表和详情上线;
4.  文章api和前端对接;
5.  小插件在linux下不生效,寻找解决办法ing;


2018年2月6日 完成工作:
1. 控制台不知道什么原因联动显示银行卡列表没了,但是线上是有的,拷贝下来增加显示输出真实姓名;
2. [裁判员]service\model\api;
3. [裁判员列表]前端渲染和数据输出;
4. [创建裁判员]前端渲染和数据输出;
5. 增加裁判员验证器;
6. [裁判员档案];
7. [编辑裁判员],裁判员没审核过的时候,身份证和资格证可以修改(准哥要求);
8. [编辑裁判员],身份证和资格证如果已经上传,而且通过了审核,则不可以修改(我的做法);



2018年2月7日 完成工作:
1. [平台登陆大礼包],取消widget用法,改为block(不行),改为layout(也不行),改成直接写页面上,测试通过;
2. api:获取裁判员接口;
3. api:判断用户是否有裁判员身份;
4. [评论裁判];
5. api:获取裁判员参加过的比赛列表（包括主裁判、助裁判）;
6. [邀请裁判员]api;
7. 文章api文档;
8. 购买课程的会员都添加到follow表,跑过了;
9. 裁判api文档
10. 大礼包文档


2018年2月8日 完成工作:
1. 控制台文章列表显示是否上架;
2. 编辑文章如果没改图片,默认是原来的图片;
3. 取消编辑文章的时候默认下架的状态,改成原来是什么状态就什么状态;
4. 控制台裁判员列表前端和后端;
5. 编辑裁判员,审核裁判员前端后端,通过的话裁判员的证件也一起更新状态;
6. 分页获取lat,lng最近数据（带分页） api文档;
7. 根据经纬度获取两点之间的距离的api和文档;
8. 裁判员管理页面统计;


2018年2月9日 完成工作:
1. 比赛(match)获取距离最近的列表;
2. 获取距离最近可以上传orderby,作为排序依据,默认为distance asc;
3. 获取理我最近的列表api文档;
4. 新建match_referee表,作为裁判员参加的比赛记录和该场次出场费;
5. [裁判员管理]邀请列表\接单列表前端和api和后端;
6. 改良getMatchListOrderByDistanceApi,增加省市区和日期选择的搜索;
7. 改良getMatchListOrderByDistanceApi,增加省市区和日期选择和关键字的搜索;
8. 改良getMatchListOrderByDistanceApi,增加关联team查询;
9. [裁判员管理]制裁列表前端和api和后端;


2018年2月10日 完成工作:
1. 解决场地列表根据坐标排序判断错误的bug;
2. 完全开放平台大礼包;
3. 场地距离api的封面图反序列化;
4. 修改大礼包判断:如果本地没有存储与大礼包id相同的值,则弹出大礼包(原来值固定1);
5. 教练搜索的api增加orderby接受;



2018年2月23日 完成工作:
1. 购买课程|体验课程之后,默认关注训练营;
2. courtVal增加token验证;

2018年2月25日 完成工作:
1. 创建output表,作为训练营支出表;
2. 理了一下雅鹿原来的表格,把能做的和需要 改良的说情况;
3. 看了下原来的结算代码;
4. 验算income表数据;


2018年2月26日 完成工作:
1. 校验bill表数据;(未传服务器);
2. 校验schedule表数据,与雅鹿的需求;(未传服务器);
3. 和雅鹿准哥开会明确结算的算法;(未传服务器);

2018年2月27日 完成工作:
1. 排查为什么文清的大热常规班的卡券不显示的问题,是因为有3个大热常规班,她选了下架那个,但是在线上她又看另一个常规班,当然不会有卡券了!
2. 编辑卡券api错误bug解决,少传了一个参数;
3. 重新改了算法,跑了12月数据,需要雅鹿帮验算一下,才能知道算法哪里不对~(未传服务器);
4. 控制台把数据按照雅鹿的列出来,只做了教练工资这块,前端html没有做,只有数据;(未传服务器);


2018年2月28日 完成工作:
1. 代付订单提示已支付的问题解决,是[订单是否已支付]判断错误,应该判断status为0,但是却判断为1了(之前说取消0,而用1代替0,暂且先还是0);
2. 整理了12月份的赠课记录,并切把赠课支出统计到训练营支出表;(未传服务器);
3. 改良结算流程(未传服务器);
4. 修改了购买赠课的流程:购买赠课则从训练营的可提现收入(balance_true)扣除赠课费用(原价),营业额(balance)不变,结算的时候不再扣除赠课费用,课程收益-教练薪资-人头-平台分成 = 可提现收入,增加balance_true;教练薪资&&人头&&平台分成都记录到支出表 (未传服务器);


2018年3月1日 完成工作:
1. 训练营资金账单数据,根据每个月具体第几天支出和收入合并;
2. 训练营的余额当初没问清楚,实际是 可提现余额,就是balance_true, 当初没有记;
3. 把算法分成2种,一种是收入=结算,一种是支出=结算;camp表增加字段,shcedule也是;
4. 改良weilin的算法,把一些乱七八糟的都存表里了,原本没存的也存了;
5. 跑算法的时候一天跑俩算法~~


2018年3月2日 完成工作:
1. 增加个人收支总表member_finance,结算|提现 增加写入收支表操作;(未上传服务器)
2. 活动订单再用户付款的时候,就把钱打入训练营的balance_true;(未上传服务器)
3. 整改camp_finance表;



2018年3月5日 完成工作:
1. 修复billInfoOfCamp的一个报错,原因是代码被注释了,反而放了一段错误代码出来;
2. 定制军牌卡券补发,是代付订单;
3. 弄好了资金账单数据(差每日余额);
4. 收益统计数据+返利数据;
5. 收益统计的课时详情scheduleInfo;



2018年3月6日 完成工作:
1. 训练营的课时列表数据;
2. 接收monthstart和monthend;
3. 获取训练营教练等3个api接口和文档;
4. 文件和路径改名;
5. 课时版的训练营的收入;


2018年3月7日 完成工作:
1. 课时结算训练营资金账单statisticsCamp/campBill
2. 课时结算训练营的所有节点写入数据表admin_menu;
3. 调整了schedule和income的表结构;

2018年3月8日 完成工作:
1. 收益统计
2. 营业额统计
3. 赠课统计
4. 附加支出
5. 每月报表
6. 课程课时统计
7. 课时统计
PS:以上全为课时结算训练营的账单;

2018年3月9日 完成工作:
1. 根据训练营的rebate_type而列出不同数据并且载入不同html,具体查看excel(如果有);
2. 调整income表结构;
3. 营业额的训练营所有财务数据,差[活动收入详情],excel没有列表出来,应该是去到订单详情?

2018年3月12日 完成工作:
1. 改良输出campStatistics前端数据;
2. 改良lessonSchedule按课程固定排序输出,没有数据的默认值为0;
3. 数据丢到测试服务器;
4. 测试服务器补数据代码改良;


2018年3月13日 完成工作:
1. 改写跑数据的代码,在服务器跑了4个表的数据;
2. 按要求改写了lessonSchedule;

未完成工作:
1. 还差3个表,schedule和salary_in和salary_out;
2. schedule表补数据,分别是cost,schedule_rebate,rebate_type;
3. 一个api，传camp_id和keyword;


2018年3月14日 完成工作:
1. 课程api，可传post参数和keyword,无分页;
2. 跑完了数据表数据,依照bill和schedule和schedule_gift_record表;
3. 按雅鹿修复了一些数据;
4. 开始交接雅鹿;
5. 补income部分数据;

未完成工作:
other改变量名;


2018年3月15日 完成工作:
工作计划:
1. other改变量名;
2. 查找campBill收入都是0的原因;
3. 查找campBill教练工资都是0的原因;
4. 缺少students报错原因;
5. salary_in补students;
6. 营业额版的课时结算,教练工资不从余额扣除;
完成工作:
1. 解决campBill收入都是0的原因,income补录scheduletime数据(定时任务:按结算时间而不是运行时间);
2. 解决缺少students报错,补salaryin表的students字段和数据;(定时任务也要加上去);
3. schedule补录s_coach_salary和s_assistant_salary数据(定时任务也要加上去);
4. 重跑数据(改成营业额版不给教练发工资);PS:finish_settle_time = time();


2018年3月16日 完成工作:
1. 时间整改:schedule.lesson_time = 真正上课时间 = camp_finance.datetime = income.schedule_time = salary_in.schedule_time = member_finance.remarks = camp_finance.remarks = output.schedule_time;
2. 营业额结算方式,课时结算不再影响训练营和个人余额;
3. 修改结算代码,跑99遍数据,按照录课时,教练填的上课时间做日期依据;
4. 给雅鹿核对,雅鹿通过;
5. 营业额统计问题;
6. 收益统计课程合并;
7. 修改bill记录的代码;
8. 雅鹿核对数据给了OK;

雅鹿发现的问题:
1. 营业额的活动和课程一样;
2. 收益统计课程没有合并;



2018年3月19日 完成工作:
1. 课时统计(总计数据)按月改成全部统计; 
2. 4个页面的数据输出;
3. 修复课程统计页面查询为空的问题;
4. 申请退款的时候,计算剩余课量*课程单位为退款总金额,并发送通知(实际上并没有真正记录这个金额直至同意退款操作);
5. schedule_time报错修复;
6. campBill机构版计算课时总价;


2018年3月20日 完成工作:
1. 重跑数据;
2. 每日camp和member余额定时任务,member只跑有教练身份的;
3. 机构版(训练营版,教练版,用户板)的控制层和文件;
4. 机构版菜单数据表;
3. 	1、金额数字保留两位(完成,解决办法:没有点查询的时候不输出数据)
2、教练工资月表查询没输出(完成)
3、教练工资详情报错(完成)
4、课时结算表报错(完成)
5、提现列表没输出(完成,但是目前没有训练营提现操作页面和数据)
6、订单列表没效果(完成)

2018年3月21日 完成工作:
1. 返利列表,提现表改良,取消默认值;
2. 教练资金账单增加返利金额总额;
3. 机构版登陆+权限验证+权限菜单+service+model+选择身份等php(未完全测试,待html出来一起测试);

2018年3月22日 完成工作:
1. 登陆注册测试;
2. 选择身份或者训练营测试;
3. 权限测试+改良;
4. 权限菜单改良+面包屑;
5. 改良缓存方式;
6. 增加退出登陆和清理缓存功能;
7. 根据member_menu新建php文件;

2018年3月23日 完成工作:
1. 修改layout的数据输出;
2. 改良面包屑的显示;
3. 找到点菜单跳转报错的bug,去除菜单上的两个__;
4. 菜单的active;
5. 菜单排序优化;
6. 全局campInfo,目前全局切前端能用的有:camp_member,_location,menuList,memberInfo;
7. 图表数据;


2018年3月26日 完成工作:
1. 控制台添加自己的推荐人功能前端js的优化,成功后关闭自身iframe;
2. 修复学费一直为0的bug;
3. 修复management登陆成功后,会产生一个空用户的bug;
4. campBillList 增加搜索功能;
5. 首页一个图表的数据;
6. 大热控制台大热训练营;
7. 平台控制台[资金账单]默认2017年12月;
8. 测试服务器隐藏报错页面,提示正在更新维护;
9. 收益统计的学费列表为空的bug;



2018年3月27日 完成工作:
1. [收益统计]的总数,变量已赋值到页面上,但是被js替换,所以放到旁边;
2. [营业额统计]总数,变量已赋值到页面上,但是被js替换,所以放到旁边;
3. 取消总数....
4. 教练员权限不足问题;
5. 修复雅鹿给的doc文档的各种问题,比如权限不足,路径错误,member_menu数据表缺少,课时总价和课时收入,人头提成和薪资没有相加,一些页面没有数据,教练课时收入时间字段没对上....



2018年3月28日 完成工作:
1. 机构版[训练营订单]除了购买会员加一列学员姓名,加上退款日期和状态中文显示;
2. 机构版[课时统计]的退费课时没正确显示的问题;
3. 首页图表数据;
4. 解决没有页面的bug,是因为取消了当前训练营的那个默认训练营功能,所以没训练营,进不去[是营业版还是可是版训练营]的判断,当然就没输出咯;



2018年3月29日 完成工作:
1. 学生所有变动定时任务,每日凌晨2:00运行(已测试,已上测试服务器);
2. 场地定时任务,每日凌晨3:00运行(已测试,未上测试服务器);
3. 定时任务的记录表,以后定时任务运行了都会有记录,没有运行就没有记录(本来写有记录的,但是没发记录,这个暂时没法解决);
4. 手机端文章相关一大堆;
5. 在训练营的[课时统计]那里,如果是同一个课时,则合并;


2018年3月30日 完成工作:
1. 昨天经雅鹿反馈问题,花了很长时间才找到结算一个巨大bug,我从昨天调到今天,终于发现是结算的一个判断没有考虑周全(只判断了是否存在助教和助教工资,但是没有判断人头提成),导致助教的金额数据缺失;正式服务器一直在跑的那个也有这个错误,所以正式服务器的营主余额虚高,助教的钱不够,数据不能用,跑结算的也是错的,数据是对不上的;
2. 修改测试服务器结算的巨大bug,并且重跑了测试服务器数据;(正式服务器没有改动);
3. 机构版o_id和o_type有时候取值为0的bug;
4. 机构版热门课程api改良:如果传了camp_id,取消补全热门课程的数据;
5. 增加机构版热门活动api;
6. 大热控制台新增编辑训练营的抽成比例和抽成类型(课时版和营业额版);
7. 补event_member的avatar;以后参加活动的人员的头像就是member的avatar;
8. 机构版控制台首页的最后两个表的数据,最后一个表需要讨论一下;


2018年4月2日 完成工作:
1. 公众号菜单传参(无效);
2. 取消锁死o_id和o_type;因为index无法重置和覆盖o_id和o_type;
3. 手机端训练营统计的渲染和基本输出;
4. 机构版训练营首页所有数据输出(除了最后一张图);
5. 私密课程在首页不显示问题;(前端传参is_private:0就行);
6. 首页课程排序问题;
7. 重跑了测试服务器数据,来源于schedule和bill;


2018年4月3日 完成工作:
1. 获取热门课程的api补的数据排除私密课程;
2. 增加定时任务[每日统计学生数],并且写入crontab,但是没权限;
3. 每月学生统计必须改为[上一个月学生统计],或者按日统计,因为每个月定时任务是月底才跑,用户不可能月底凌晨去看,第二个月又看不到;
4. 场地距离增加camp_id搜索;
5. 文章增加作者手动填写字段author;
6. 文章增加评论\编辑评论功能,包括\评论表\api\service\model\api文档;
7. 文章增加获取评论api\文档;
8. 增加文章评论验证器;
9. 文章点赞功能,包括\点赞表\api\service\model\api文档;
10. 文章收藏功能,包括\收藏表\api\service\model\api文档;
11. 首页增加coachInfo和studentList,对应coach和student表,user_id = 对应id;
12. schedule_member增加member_id字段,并补数据;
13. 发现一个问题:coach表没存member字段~~~~;

2018年4月4日 完成工作:
1. 创建文章改良,不再用o_id和o_type来判断,直接camp_id;
2. 文章列表输出campInfo;
3. 点赞和收藏取消太多次会为负数的bug;
4. 重跑正式服务器的数据;
5. 解决雅鹿反馈的[首页统计]本月收益和总收益的bug;
6. 解决雅鹿反馈的[首页统计]本月收益和总收益的bug;
---同步手机端;
7. 手机端的年统计;
8. 钟教练的密码0fa2b9ba3ec7c879de86cee5656a2c123a07fbe3 -> 56c1dea092bcdb3c77b072d6ee9914008f8a383d



2018年4月8日 完成工作:
1. 剩余课时和已完成课时的数据恢复正确;
2. 20180405号结算的,由于是隔日结算,所以这一天的学生多跑了一天,已恢复;
3. 上课时间为1970年的bug,是因为审课存的时间变成2018,我改过来了(后面发现没用);
4. 没有班级的学生20180331录课的多了一节剩余课量,已经全部找出来减掉一节;
5. 审课录课新规则,翻工,脑子很乱暂时没想好怎么做,我还要熟悉原来的录课流程;




2018年4月9日 完成工作:
1. 补coach表的member数据;
2. 录课审课api改良;
3. 修改教练和注册教练的api增加member字段写入;
4. 开放机构版的'online_hide'字段;
5. 审课录课编辑前端改良;
6. 热门课程如果不够,按购买量排序;
7. 机构版控制台增加文章模块,member_menu没给;
8. 创建体验记录表,记录camp和lesson;



2018年4月10日 完成工作:
1. 测试录课api,审课api,删除课程api和重新编辑录课的api;
2. 发现审课的时候计算课时工资那块少了助教的人头分成的bug,已改bug;
3. 检查了每日结算定时任务,student_str并没有影响;
4. 新审课录课上线服务器,对接数据改良;



2018年4月11日 完成工作:
1. 跟雅璐讨论了退款和平台收支公式的方案;
2. coachApi的报错;
3. 重新应用online_hide字段效果;
4. 机构版学生列表的数据输出,搜索功能,和发送催费提醒功能;
5. 退款表refund;






2018年4月12日 完成工作:
1. 由于编辑已审课时却没有更新schedule_member的工作失误,挖错误数据并且修补数据;
补数据改数据:
1.lesson_member游逸朗由rest_schdule = 13 ,total_schedule = 33,改成rest_schdule = 4

2. student游逸朗 finish_schedule = 20改成finish_schedule = 29;
3. schedule_member补严俊朗schedule_id=482,郑宏轩schedule_id=4557 一人一条数据;
4.lesson_member郑宏轩由rest_schdule = 6 ,total_schedule = 10,改成rest_schdule = 4;
5. student游逸朗 finish_schedule = 4改成finish_schedule = 6;
2. 修改schedule表因为students字段错误的数据;但是错误原因没找到,因为students是前端传上来,后端原样存数据表,前端又没错,不管是新增录课还是编辑录课...
3. 应雅鹿要求,在课时结算表,给她显示结算的日期做参考;



2018年4月13日 完成工作:
1. 根据前端的页面修改流程,修改表结构,增加退款方式和收款账号和图片;
2. 前端数据输出;
3. 平台补数据,但是由于平台之前只有申请退款和完成退款的两个状态,所以[-2=>'已撤销',-1=>'已拒绝',1=>'申请中',2=>'已同意',3=>'已打款'];只能全部默认为[已打款]或者[申请中];

4. 退款相关基本接口;
5. 退款操作;


2018年4月16日 完成工程:
1. 赠课报错,是在扣除训练营余额的时候,update写错成updaet,会导致赠课了不扣除训练营余额;
2. 退款同意和拒绝调整,增加模板消息发送;
3. 产生订单后,grade_member班级学生自动续费;
4. 每日grade的student_str更新~;
5. 测试退费和毕业学生和续费;


2018年4月17日 完成工作:
1. 退款和同意退款流程测试;
2. schedule某些students错误的数据改正;
3. 下午请假了;


2018年4月18日 完成工作:
1. 检查为什么4月1号之后大热没有结算的bug;
2. 发现是schedule表的rebate_type和schedule_rebate字段缺失,已补上;
3. 录课增加传入schedule_rebate和rebate_type;
4. 测试服务器重跑数据;
5. 正式服务器重跑数据;
6. 修复之前订单数据的错误:
余鲁文->误操作;
剩下的战奕名\张旺鹏\饶鹏轩\林嘉豪\刘家琦\郑德源\谢诺\朱民皓\谢梓珊\郑梓深\游简菏\孙胤麒\卢皓文 都是因为退款,但是没有同意,订单状态一直处于[退款中],又退了款给对方,导致课时总数出错;

全都手动改成退款完成;
7. 同意退款的订单状态,不改变;




2018年4月19日 完成工作:
1. 退费学生踢出班级;
2. 改退款流程,变成用action进行判断操作;
3. 解决学生重复问题(太难弄,手动删的)和录课的时候学生不存在的问题;
4. 撤销退款的api;action:5;
5. schedule_member的未审默认值是-1;取消api规定status是1的锁定;



2018年4月20日 完成工作:
1. refund表增加rebate_type和schedule_rebate的记录;
2. admin-训练营详情增加refund_rebate的修改;
3. 退款和撤销退款,记录refund的操作和测试;
4. 整改撤销退款的消息;
5. admin增加refund模块,包括refundList和refundDeal,操作只有[已退款],记录课时版训练营的退费收入;
6. 修改撤销退款的模板消息;
7. 审核课时发送模板消息的剩余课量-1;



2018年4月23日　完成工作：
1. 取消退款新的模板消息;
2. 余永康退7节课但是多上了2节课;
3. 陈宛杭 退9节课,但是多上了一节;
4. 战奕名 购买16节课,退费16节课,上了11节课;
   	张旺鹏
	郑梓深购买9,退7,上6,
	游简菏买14,退14,上8		

5. 录课的时候,差课生插班生提交他本身的lesson_id,grade和grade_id可以提交上课的班的,否则会上课了也扣不了课时;(已确认)



2018年4月24日 完成工作:
1. 根据雅鹿excel文档新建平台收支表sys_output和sys_income;

2. 发现之前weilin在删除课时的api里,没有判断是否已审,也没有删除对应schedule_member的数据,导致学生在自己的课时点去看详情会提示错误;

3. 整改删除课时的api,删除课时判断是否已审,已审课时不允许删除,否则连带schedule_member的数据一起删除;

4. 整理schedule_member的数据,根据schedule是否delete_time而给delete_time;
	总共20条;
5. 瞿士杰 赠课没加上去

6.//判断第一页是否有未结算的课时
   if(page==1&&data.data.data[i].status=="未结算"){
weiJieSuan++;}
改成↑,学生详情显示[是否结算],因为阿冼雅鹿统计需要看;

7. 删除赠课改数据bug,修复,确认total_schedule后面已经加上了的;
8. 刘羽
林城佑
李李
李炬豪
吴浩睿
潘思达等20个人schedule_member错误问题;
辛,张诗婷,黄之麓重名问题

未完成工作:赠课-学生关系表缺少主键;





2018年4月25日 完成工作:
1.提现和账户的所有前端api和service和model和val
2. 提现和账户的所有前端api和service和model和val的相关文档
2. admin控制台的旧代码的报错;
3. 修改测试服务器的前端,让阿冼和雅鹿能区分哪个是测试版哪个是正式版;


2018年4月26日 完成工作:
1. 修改训练营申请提现流程,admin控制台只有[打款]和[拒绝]操作;
2. 控制台admin提现列表和提现详情渲染和后端操作;
3. 取消修改提现申请,增加[取消提现]操作;
4. 修改用户数据:
大热俱乐部
杨灿、陈宛杭搜不到
薛若鸿有一节课时间显示2038年1月19日，实际点进去是2017年12月9日
林嘉豪有退款，但是剩余课时还是15
李鸣轩有剩余课时但是已结业
何锦延少了一条订单记录，课时也少了，1000元10节课
杨涵、王孝煊、王瑞翔有一节课时间显示2018年12月，实际是2017年12月

AK训练营
吴浩睿、瞿士杰、彭鼎盛、李炬豪、何锦宸有一节课显示2018年12月，实际点进去是2017年12月


2018年4月27日 完成工作:
1. 平台收支表补数据;
2. 平台收支的相关model\service;
3. 平台收支每日任务(未测试);
4. 训练营提现数据表被覆盖(补回去了);

未完成的计划中的工作:
1. 训练营收支明细相关api接口,只有控制台有;





2018年4月28日 完成工作:
1. 确认校园版课程的方案.

涉及并且的表:lesson,lesson_member,gift_record,schedule,schedule_member,bill;
需要改的操作(未更改):
1.新建课时
2.购买可是
3.赠送课时
4.转班
5.录课
6.结算

未完成工作:
2. 平台收支发现一个关于赠课的逻辑问题,这个跟雅璐商量了一个新方案,雅璐权衡之后会跟你说;
3. 修改平台收支的定时任务,重新补录数据;


2018年5月2日 完成工作:
1. 把is_school的错别字改正和默认值0改成-1;
2. 重写平台收支的定时任务,把赠课修改成方案1;
3. 校园课的购买api和前端渲染;
4. 结算忽略校园课时;
5. 校园购买确认订单前端js对接api;total在路径上传上课的数量,支付金额为0,不需要支付;
6. 转课的课程列表,锁定非校园课;
7. 卡券创建和编辑,锁定非校园课;


2018年5月3日 完成工作:
1. 学生档案的订单那块,重新统计,不显示过期订单,未付款没过期的订单显示截止日期;
2. 赠课取消对营业额版训练营进行扣款;
3. [学生详情]调试一个前端由于没有销毁变量导致的js列表显示错误问题;
4. 忘记了...


2018年5月4日 完成工作:
1. 课时审核,校园课取消薪资判断和是否有剩余课时判断;
2. 购买课程的时候,camp_member高阶不会变成低阶;
3. 校园课程下架,会把学生全部变成毕业;
4. 确认删除班级的话,grade_member会删掉或者delete_Time;
5. admin控制台Life Style文章admin新增和编辑;
6. admin控制台Life Style文章的卡券的新增和编辑(前端差文章列表的显示);
7. frontend手机前端Life Style文章输出对应的卡券(样式和一些是否领取完,是否已过期,需要前端做判断);
8. 文章领取卡券一张js和多张js;



2018年5月7日 完成工作:
1. 再次查看https://pay.weixin.qq.com/wiki/doc/api/micropay.php?chapter=23_4微信刷卡支付开发者文档,发现里面讲的是不再支持http的支付链接,教我们如何安装CA证书,使用https支付;但是我们原本就是https支付,一开始做的就是https支付,所以目前不需要做修改;
2. schedule_member的默认值改为-1;虽然平时审课都是写入-1的,但改较好;
3. 教练注册页判断是否有身份证,否则前端输出身份证信息;
4. 卡券的领取用户和使用用户的api;
5. api/schedule/getScheduleListByPageApi增加模糊搜索;
6. lesson和event增加经纬度lat和lng字段;
7. api/lesson/searchLessonApi增加距离计算;
8. 设置全部已读的api:setMessageMemberStatusAllApi(可以设置前N条);



2018年5月8日 完成工作:
1. ScheduleService 的page列表增加助教的解码;
2. 活动订单完成后没有发通知的问题;
3. 活动列表增加distance距离计算;
4. 解决活动报名没有弹框信息的js错误;
5. 解决camp_finance乌龙问题;
6. 平台收支定时任务部署到测试服务器,本地测试没问题;



2018年5月9日 完成工作:
1. 再次测试活动报名,找到原因是因为活动模板消息只发给负责人,并不是bug;
2. billInfoOfCamp页面的活动订单显示更多信息,包括bill,event和event_member;
3. 跟阿冼确认报名流程,告诉她活动报名的原理,然后做出一些改良方案,比如联系人不要默认昵称,模板消息的url链接;
4. 订单列表给绿色角标标明[订单类型],红色角标=未付款订单;
5. 活动报名用户点击模板消息直接去到订单,负责人直接去到eventInfoofcamp;
6. 测试发现模板消息当初去eventInfo的初衷是因为免费活动没订单;所以现在免费的先去eventInfo,收费的才去订单;
7. 平台收支定时任务部署到正式服务器;



2018年5月10日 完成工作:
早上请假了;
1. [我的活动]前端后端;
2. lift_style卡券是否已领取判断;
3. 控制台admin修改用户信息;



2018年5月11日 完成工作:
1. 如果活动已有人报名,不可删除;
2. admin里设置抽成和退款比例的调整;
3. 训练营每日余额显示,跟雅璐对了一下数据;
4. 跟雅璐对了一下手机端训练营提现等流程,还有admin提现的html改地址;
5. 给侯哥做了Xmind校园版基本框架流程图


2018年5月21日 完成工作:
1. 修复admin控制台帮购买课程的bug,原因是lesson_member多了个空格;
2. admin控制台训练营提现列表前端和[同意][拒绝][已打款]操作;
3. 补刘秉松的课时+10,训练营财务数据;
4. 训练营的rebate_type为1,则不再产生camp_finance数据,因为没有余额变动;
5. 文章上下架和删除的快捷操作api和前端js;
6. 手机端编辑文章上下架api增加权限判断,不允许管理员以下操作,系统文章不允许任何人操作;
7. 模板消息表,openid关联表,公众号表,公众号-模板关系表;



2018年5月22日 完成工作:
1. event_member增加camp_id,和camp,补充数据;
2. 删掉admin前端选择训练营的代码,否则会报错;
3. 提现使用事务回滚,出错则回滚output\withdraw\camp_finance的数据;
4. 补充模板消息表的内容;
5. 渲染模板模块,增加对应的service和model;
6. 教雅鹿按照excel测试,并填写结果;
7. 补充:文章分类表;


未完成工作:
训练营每日余额只在机构版显示,admin并没有



2018年5月23日 完成工作:
(早上请了病假)
1. admin控制台模板消息前端调试bug,测试;
2. 打卡表punch,打卡-社群关系表group_punch,社群表group,奖金池表pool;
3. 打卡首页输出数据;
4. 打卡详情\创建打卡后端;
5. templatePlatformList输出关联的平台信息;



2018年5月24日 完成工作:
1. templatePlatformList的数据输出;
2. admin模板功能相关接口;
3. admin-platform相当service\model\controller;
4. 社群相关接口api和文档;












