<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>教练注册</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!--标准mui.css-->
    <link rel="stylesheet" href="/static/frontend/css/mui.min.css">
    <!--icon扩展样式icons-extra.css-->
    <link rel="stylesheet" type="text/css" href="/static/frontend/css/icons-extra.css"/>
    <!--App自定义的css-->
    <link rel="stylesheet" type="text/css" href="/static/frontend/css/app.css"/>
    <!--自定义style.css-->
    <link rel="stylesheet" type="text/css" href="/static/frontend/css/style.css"/>
    <!--选择器样式-->
    <link href="/static/frontend/css/mui.picker.min.css" rel="stylesheet"/>
    <link href="/static/frontend/css/mui.poppicker.css" rel="stylesheet"/>
    <style>
        .regspan {
            font-size: 12px;
            text-align: center;
            height: 40px;
            padding: 10px 0;
        }
    </style>
</head>

<body class=whitebg>

<header class="mui-bar mui-bar-nav subheader header2">
    <a class="mui-icon mui-icon-left-nav mui-pull-left arrow"></a>
    <h1 class="mui-title">注册教练身份</h1>
</header>
<div class="mui-content pt">
    <div class="detalis-list register">

        <form action="" class="whitebg">

            <ul class="mui-table-view list">
                <li class="mui-table-view-cell listli detalisli">微信昵称<span style="color: #737373">
                {notempty name="memberInfo.nickname"}{$memberInfo['nickname']}{/notempty}</span></li>
<<<<<<< HEAD
                <li class="mui-table-view-cell listli detalisli">姓名<input type="text" name="username" class="input reg_user" placeholder="输入你的姓名"></li>
=======
                <li class="mui-table-view-cell listli detalisli">真实姓名<input type="text" name="username" class="input reg_user" placeholder="输入你的姓名"></li>
>>>>>>> 537fcbdec4eac0f0cc174cc52c48678313dd5ed2
                 <li class="mui-table-view-cell listli detalisli">手机号码
                    <input type="text" name="mobile" class="reg_mobile input" placeholder="请输入手机号码">
                </li>
                <li class="mui-table-view-cell listli detalisli">短信验证码
                    <input type="button" class="code-btn" value="获取验证码" onclick="clickButton(this)">
                    <input type="text" class="input validate" placeholder="输入验证码" style="width: 44%;margin-top: 4px">
                </li>
                 <li class="mui-table-view-cell listli detalisli border-b">推荐人<span style="color: #737373">获取推荐人</span></li>
            </ul>

            <div class="regspan tip user_hint mobile_hint"></div>
            <div class="tjbtn">
                <button type="sumbit " class="mui-btn btn registerCoach">
                    注册
                </button>
            </div>
        
        </form>
    </div>

</div>
</body>
<script src="/static/frontend/js/mui.min.js"></script>
<script src="/static/frontend/js/jquery-3.2.1.min.js"></script>
<!-- 验证 -->
<script src="/static/frontend/libs/yzvalidate.js"></script>
<script>
    //初始化
    mui.init({
        swipeBack: true //启用右滑关闭功能
    });

    //验证码
    function clickButton(obj) {
        var obj = $(obj);
        obj.attr("disabled", "disabled");
        /*按钮倒计时*/
        var time = 60;
        var set = setInterval(function () {
            obj.val(--time + "(s)");
        }, 1000);
        /*等待时间*/
        setTimeout(function () {
            obj.attr("disabled", false).val("重新获取验证码");
            /*倒计时*/
            clearInterval(set);
        }, 60000);
    }

    $(function () {

        $(".registerCoach").on("click", function () {
            var coach = $(".reg_user").val();
            var telephone = $(".reg_mobile").val();
            console.log(coach);
            if(member&&telephone&&validate==''){
                alert("选项不能为空");
                return;
            }
            mui.ajax("{:url('api/coach/updateCoachApi')}", {'coach': coach,'telephone': telephone},
                    dataType: 'json',//服务器返回json格式数据
                    type: 'post',//HTTP请求类型
                    timeout: 10000,//超时时间设置为10秒；
                    headers: {'Content-Type': 'application/json'},
                    success: function (data) {
                        window.location.href="{:url('coach/updateCoach')}";
                        console.log(data)
                    },
                    error: function (xhr, type, errorThrown) {
                        console.log(type);
                    }
                });
           
        })

    })

</script>
</html>