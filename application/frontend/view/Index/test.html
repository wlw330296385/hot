<!DOCTYPE html>
<html>
<head>
	<title>测试页面</title>
	<script src="/static/frontend/js/smsCode.js"></script>
</head>
<body>


<div class="mui-input-row">
    <label>手机号码</label>
    <input type="text" name="mobile" class="reg_mobile" placeholder="请输入手机号码" id="telephone">
</div> 
<div class="mui-input-row">
   <label>短信验证码</label>
    <input type="button" class="code-btn" value="获取验证码" onclick="test(this)">
    <input type="text" class="validate" placeholder="输入验证码" style="width: 40%;" id="code">
</div>

<button onclick="test(this)"></button>
<button onclick="test2()"></button>
</body>



<script type="text/javascript">

	function test(obj){
		telephone = document.getElementById('telephone').value;
		console.log(telephone);
		var result = smsCode.getMobileCodeApi(obj,telephone,"{:url('api/login/getMobileCodeApi','','',true)}");
		console.log(result);
		if(result.code == 100){
			alert(result.msg);
		}else{
			alert(result.msg);
		}
	}


	function test2(){
		var code = document.getElementById('code').value;
		var result = smsCode.validateSmsCodeApi(telephone,code,"{:url('api/login/validateSmsCodeApi','','',true)}");
		if(result == 100){
			alert(result.msg);
		}else{
			alert(result.msg);
		}
	}
</script>
</html>